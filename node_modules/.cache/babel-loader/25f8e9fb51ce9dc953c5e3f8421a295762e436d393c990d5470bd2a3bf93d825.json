{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Front-End Projects\\\\appeals\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MapView({\n  appeals,\n  onSelect,\n  selectedAppeal\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markersRef = useRef([]);\n  useEffect(() => {\n    // Инициализация карты с центром на Астане\n    if (!mapInstance.current && mapRef.current) {\n      mapInstance.current = L.map(mapRef.current).setView([51.1282, 71.4304], 12);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '© OpenStreetMap contributors'\n      }).addTo(mapInstance.current);\n    }\n\n    // Очистка старых маркеров\n    markersRef.current.forEach(marker => {\n      if (mapInstance.current) {\n        mapInstance.current.removeLayer(marker);\n      }\n    });\n    markersRef.current = [];\n\n    // Добавление новых маркеров\n    if (mapInstance.current) {\n      appeals.forEach(appeal => {\n        const markerColor = getMarkerColor(appeal.status);\n        const icon = L.divIcon({\n          html: `\n            <div style=\"\n              background: ${markerColor};\n              width: 24px;\n              height: 24px;\n              border-radius: 50%;\n              border: 3px solid white;\n              box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            \">\n              <svg style=\"width: 12px; height: 12px;\" viewBox=\"0 0 24 24\">\n                <path fill=\"white\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\"/>\n              </svg>\n            </div>\n          `,\n          className: 'custom-marker',\n          iconSize: [24, 24],\n          iconAnchor: [12, 24]\n        });\n        const marker = L.marker([appeal.latitude, appeal.longitude], {\n          icon\n        }).addTo(mapInstance.current).bindPopup(`\n            <div style=\"min-width: 200px; padding: 10px;\">\n              <h4 style=\"margin: 0 0 8px 0; color: #2c3e50;\">${appeal.category}</h4>\n              <p style=\"margin: 0 0 8px 0; color: #666;\">${appeal.address}</p>\n              <span style=\"\n                display: inline-block;\n                padding: 4px 12px;\n                background: ${markerColor};\n                color: white;\n                border-radius: 12px;\n                font-size: 12px;\n              \">\n                ${appeal.status}\n              </span>\n              <p style=\"margin: 8px 0 0 0; font-size: 12px; color: #888;\">\n                ID: ${appeal.id}\n              </p>\n            </div>\n          `);\n        marker.on('click', () => onSelect(appeal));\n        markersRef.current.push(marker);\n      });\n\n      // Центрирование на выбранном обращении\n      if (selectedAppeal) {\n        mapInstance.current.setView([selectedAppeal.latitude, selectedAppeal.longitude], 15);\n      }\n    }\n\n    // Очистка при размонтировании\n    return () => {\n      markersRef.current.forEach(marker => {\n        if (mapInstance.current) {\n          mapInstance.current.removeLayer(marker);\n        }\n      });\n    };\n  }, [appeals, selectedAppeal, onSelect]);\n  const getMarkerColor = status => {\n    switch (status) {\n      case 'В работе':\n        return '#f39c12';\n      case 'Решено':\n        return '#27ae60';\n      case 'Отклонено':\n        return '#e74c3c';\n      default:\n        return '#3498db';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        height: '500px',\n        width: '100%',\n        borderRadius: '8px',\n        overflow: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .map-view {\n          height: 100%;\n          width: 100%;\n        }\n        \n        @media (max-width: 768px) {\n          .map-view {\n            height: 400px;\n          }\n        }\n        \n        @media (max-width: 480px) {\n          .map-view {\n            height: 300px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_s(MapView, \"ddIzN8/UIQWrVDyooxl6ATcSiXQ=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useRef","L","jsxDEV","_jsxDEV","MapView","appeals","onSelect","selectedAppeal","_s","mapRef","mapInstance","markersRef","current","map","setView","tileLayer","attribution","addTo","forEach","marker","removeLayer","appeal","markerColor","getMarkerColor","status","icon","divIcon","html","className","iconSize","iconAnchor","latitude","longitude","bindPopup","category","address","id","on","push","children","ref","style","height","width","borderRadius","overflow","fileName","_jsxFileName","lineNumber","columnNumber","jsx","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Front-End Projects/appeals/src/components/MapView.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nfunction MapView({ appeals, onSelect, selectedAppeal }) {\r\n  const mapRef = useRef(null);\r\n  const mapInstance = useRef(null);\r\n  const markersRef = useRef([]);\r\n\r\n  useEffect(() => {\r\n    // Инициализация карты с центром на Астане\r\n    if (!mapInstance.current && mapRef.current) {\r\n      mapInstance.current = L.map(mapRef.current).setView([51.1282, 71.4304], 12);\r\n      \r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '© OpenStreetMap contributors'\r\n      }).addTo(mapInstance.current);\r\n    }\r\n\r\n    // Очистка старых маркеров\r\n    markersRef.current.forEach(marker => {\r\n      if (mapInstance.current) {\r\n        mapInstance.current.removeLayer(marker);\r\n      }\r\n    });\r\n    markersRef.current = [];\r\n\r\n    // Добавление новых маркеров\r\n    if (mapInstance.current) {\r\n      appeals.forEach(appeal => {\r\n        const markerColor = getMarkerColor(appeal.status);\r\n        \r\n        const icon = L.divIcon({\r\n          html: `\r\n            <div style=\"\r\n              background: ${markerColor};\r\n              width: 24px;\r\n              height: 24px;\r\n              border-radius: 50%;\r\n              border: 3px solid white;\r\n              box-shadow: 0 2px 5px rgba(0,0,0,0.3);\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n            \">\r\n              <svg style=\"width: 12px; height: 12px;\" viewBox=\"0 0 24 24\">\r\n                <path fill=\"white\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\"/>\r\n              </svg>\r\n            </div>\r\n          `,\r\n          className: 'custom-marker',\r\n          iconSize: [24, 24],\r\n          iconAnchor: [12, 24]\r\n        });\r\n\r\n        const marker = L.marker([appeal.latitude, appeal.longitude], { icon })\r\n          .addTo(mapInstance.current)\r\n          .bindPopup(`\r\n            <div style=\"min-width: 200px; padding: 10px;\">\r\n              <h4 style=\"margin: 0 0 8px 0; color: #2c3e50;\">${appeal.category}</h4>\r\n              <p style=\"margin: 0 0 8px 0; color: #666;\">${appeal.address}</p>\r\n              <span style=\"\r\n                display: inline-block;\r\n                padding: 4px 12px;\r\n                background: ${markerColor};\r\n                color: white;\r\n                border-radius: 12px;\r\n                font-size: 12px;\r\n              \">\r\n                ${appeal.status}\r\n              </span>\r\n              <p style=\"margin: 8px 0 0 0; font-size: 12px; color: #888;\">\r\n                ID: ${appeal.id}\r\n              </p>\r\n            </div>\r\n          `);\r\n\r\n        marker.on('click', () => onSelect(appeal));\r\n        markersRef.current.push(marker);\r\n      });\r\n\r\n      // Центрирование на выбранном обращении\r\n      if (selectedAppeal) {\r\n        mapInstance.current.setView(\r\n          [selectedAppeal.latitude, selectedAppeal.longitude],\r\n          15\r\n        );\r\n      }\r\n    }\r\n\r\n    // Очистка при размонтировании\r\n    return () => {\r\n      markersRef.current.forEach(marker => {\r\n        if (mapInstance.current) {\r\n          mapInstance.current.removeLayer(marker);\r\n        }\r\n      });\r\n    };\r\n  }, [appeals, selectedAppeal, onSelect]);\r\n\r\n  const getMarkerColor = (status) => {\r\n    switch(status) {\r\n      case 'В работе': return '#f39c12';\r\n      case 'Решено': return '#27ae60';\r\n      case 'Отклонено': return '#e74c3c';\r\n      default: return '#3498db';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"map-view\">\r\n      <div \r\n        ref={mapRef} \r\n        style={{ \r\n          height: '500px', \r\n          width: '100%', \r\n          borderRadius: '8px',\r\n          overflow: 'hidden'\r\n        }} \r\n      />\r\n      \r\n      <style jsx>{`\r\n        .map-view {\r\n          height: 100%;\r\n          width: 100%;\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .map-view {\r\n            height: 400px;\r\n          }\r\n        }\r\n        \r\n        @media (max-width: 480px) {\r\n          .map-view {\r\n            height: 300px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Front-End Projects\\\\appeals\\\\src\\\\components\\\\MapView.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MapView({\n  appeals,\n  onSelect,\n  selectedAppeal\n}) {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const markersRef = useRef([]);\n  useEffect(() => {\n    if (!mapInstance.current && mapRef.current) {\n      mapInstance.current = L.map(mapRef.current).setView([51.1282, 71.4304], 12);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '© OpenStreetMap'\n      }).addTo(mapInstance.current);\n    }\n    markersRef.current.forEach(marker => {\n      if (mapInstance.current) {\n        mapInstance.current.removeLayer(marker);\n      }\n    });\n    markersRef.current = [];\n    if (mapInstance.current) {\n      appeals.forEach(appeal => {\n        const markerColor = getMarkerColor(appeal.status);\n        const icon = L.divIcon({\n          html: `\n            <div style=\"\n              background: ${markerColor};\n              width: 20px;\n              height: 20px;\n              border-radius: 50%;\n              border: 2px solid white;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            \">\n              <svg style=\"width: 10px; height: 10px;\" viewBox=\"0 0 24 24\">\n                <path fill=\"white\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\"/>\n              </svg>\n            </div>\n          `,\n          className: 'custom-marker',\n          iconSize: [20, 20],\n          iconAnchor: [10, 20]\n        });\n        const marker = L.marker([appeal.latitude, appeal.longitude], {\n          icon\n        }).addTo(mapInstance.current).bindPopup(`\n            <div style=\"padding: 10px;\">\n              <div><strong>${appeal.category}</strong></div>\n              <div>${appeal.address}</div>\n              <div style=\"color: ${markerColor}; margin-top: 5px;\">\n                ${appeal.status}\n              </div>\n            </div>\n          `);\n        marker.on('click', () => onSelect(appeal));\n        markersRef.current.push(marker);\n      });\n      if (selectedAppeal) {\n        mapInstance.current.setView([selectedAppeal.latitude, selectedAppeal.longitude], 15);\n      }\n    }\n    return () => {\n      markersRef.current.forEach(marker => {\n        if (mapInstance.current) {\n          mapInstance.current.removeLayer(marker);\n        }\n      });\n    };\n  }, [appeals, selectedAppeal, onSelect]);\n  const getMarkerColor = status => {\n    if (status === 'В работе') return '#f39c12';\n    if (status === 'Решено') return '#27ae60';\n    if (status === 'Отклонено') return '#e74c3c';\n    return '#3498db';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: mapRef,\n      style: {\n        height: '400px',\n        width: '100%',\n        borderRadius: '8px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .map-view {\n          height: 100%;\n        }\n        \n        @media (max-width: 768px) {\n          .map-view {\n            height: 300px;\n          }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(MapView, \"ddIzN8/UIQWrVDyooxl6ATcSiXQ=\");\n_c = MapView;\nexport default MapView;\nvar _c;\n$RefreshReg$(_c, \"MapView\");","map":{"version":3,"names":["React","useEffect","useRef","L","jsxDEV","_jsxDEV","MapView","appeals","onSelect","selectedAppeal","_s","mapRef","mapInstance","markersRef","current","map","setView","tileLayer","attribution","addTo","forEach","marker","removeLayer","appeal","markerColor","getMarkerColor","status","icon","divIcon","html","className","iconSize","iconAnchor","latitude","longitude","bindPopup","category","address","on","push","children","ref","style","height","width","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","jsx","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Front-End Projects/appeals/src/components/MapView.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nfunction MapView({ appeals, onSelect, selectedAppeal }) {\r\n  const mapRef = useRef(null);\r\n  const mapInstance = useRef(null);\r\n  const markersRef = useRef([]);\r\n\r\n  useEffect(() => {\r\n    if (!mapInstance.current && mapRef.current) {\r\n      mapInstance.current = L.map(mapRef.current).setView([51.1282, 71.4304], 12);\r\n      \r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '© OpenStreetMap'\r\n      }).addTo(mapInstance.current);\r\n    }\r\n\r\n    markersRef.current.forEach(marker => {\r\n      if (mapInstance.current) {\r\n        mapInstance.current.removeLayer(marker);\r\n      }\r\n    });\r\n    \r\n    markersRef.current = [];\r\n\r\n    if (mapInstance.current) {\r\n      appeals.forEach(appeal => {\r\n        const markerColor = getMarkerColor(appeal.status);\r\n        \r\n        const icon = L.divIcon({\r\n          html: `\r\n            <div style=\"\r\n              background: ${markerColor};\r\n              width: 20px;\r\n              height: 20px;\r\n              border-radius: 50%;\r\n              border: 2px solid white;\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: center;\r\n            \">\r\n              <svg style=\"width: 10px; height: 10px;\" viewBox=\"0 0 24 24\">\r\n                <path fill=\"white\" d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z\"/>\r\n              </svg>\r\n            </div>\r\n          `,\r\n          className: 'custom-marker',\r\n          iconSize: [20, 20],\r\n          iconAnchor: [10, 20]\r\n        });\r\n\r\n        const marker = L.marker([appeal.latitude, appeal.longitude], { icon })\r\n          .addTo(mapInstance.current)\r\n          .bindPopup(`\r\n            <div style=\"padding: 10px;\">\r\n              <div><strong>${appeal.category}</strong></div>\r\n              <div>${appeal.address}</div>\r\n              <div style=\"color: ${markerColor}; margin-top: 5px;\">\r\n                ${appeal.status}\r\n              </div>\r\n            </div>\r\n          `);\r\n\r\n        marker.on('click', () => onSelect(appeal));\r\n        markersRef.current.push(marker);\r\n      });\r\n\r\n      if (selectedAppeal) {\r\n        mapInstance.current.setView(\r\n          [selectedAppeal.latitude, selectedAppeal.longitude],\r\n          15\r\n        );\r\n      }\r\n    }\r\n\r\n    return () => {\r\n      markersRef.current.forEach(marker => {\r\n        if (mapInstance.current) {\r\n          mapInstance.current.removeLayer(marker);\r\n        }\r\n      });\r\n    };\r\n  }, [appeals, selectedAppeal, onSelect]);\r\n\r\n  const getMarkerColor = (status) => {\r\n    if (status === 'В работе') return '#f39c12';\r\n    if (status === 'Решено') return '#27ae60';\r\n    if (status === 'Отклонено') return '#e74c3c';\r\n    return '#3498db';\r\n  };\r\n\r\n  return (\r\n    <div className=\"map-view\">\r\n      <div \r\n        ref={mapRef} \r\n        style={{ \r\n          height: '400px', \r\n          width: '100%', \r\n          borderRadius: '8px'\r\n        }} \r\n      />\r\n\r\n      <style jsx>{`\r\n        .map-view {\r\n          height: 100%;\r\n        }\r\n        \r\n        @media (max-width: 768px) {\r\n          .map-view {\r\n            height: 300px;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MapView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}